{"code":"(this[\"webpackJsonpreact-complete-guide\"]=this[\"webpackJsonpreact-complete-guide\"]||[]).push([[0],{10:function(e,t,n){e.exports={auth:\"AuthForm_auth__MPw6W\",control:\"AuthForm_control__2fVSU\",actions:\"AuthForm_actions__1VNhY\",toggle:\"AuthForm_toggle__21tnB\"}},13:function(e,t,n){e.exports={form:\"ProfileForm_form__2xGgc\",control:\"ProfileForm_control__2YUZH\",action:\"ProfileForm_action__opJ_6\"}},15:function(e,t,n){e.exports={header:\"MainNavigation_header__2lqQ1\",logo:\"MainNavigation_logo__1TgMx\"}},20:function(e,t,n){e.exports={profile:\"UserProfile_profile__gQOnH\"}},22:function(e,t,n){e.exports={starting:\"StartingPageContent_starting__kwCvL\"}},27:function(e,t,n){},37:function(e,t,n){\"use strict\";n.r(t);var c=n(17),o=n.n(c),r=n(7),i=(n(27),n(1)),s=n.n(i),a=n(2),l=n(12),j=n(0),u=s.a.createContext({token:\"\",isLoggedIn:!1,login:function(e){},logout:function(){}}),d=function(e){var t=localStorage.getItem(\"token\"),n=Object(i.useState)(t),c=Object(l.a)(n,2),o=c[0],r=c[1],s=function(){r(null),localStorage.removeItem(\"token\",o)},a={token:o,isLoggedIn:!!o,login:function(e,t){r(e),localStorage.setItem(\"token\",e);var n=function(e){var t=(new Date).getTime();return new Date(e).getTime()-t}(t);setTimeout(s,n)},logout:s};return Object(j.jsx)(u.Provider,{value:a,children:e.children})},h=u,b=n(15),O=n.n(b),g=function(){var e=Object(i.useContext)(h),t=e.isLoggedIn;return Object(j.jsxs)(\"header\",{className:O.a.header,children:[Object(j.jsx)(r.b,{to:\"/\",children:Object(j.jsx)(\"div\",{className:O.a.logo,children:\"React Auth\"})}),Object(j.jsx)(\"nav\",{children:Object(j.jsxs)(\"ul\",{children:[!t&&Object(j.jsx)(\"li\",{children:Object(j.jsx)(r.b,{to:\"/auth\",children:\"Login\"})}),t&&Object(j.jsx)(\"li\",{children:Object(j.jsx)(r.b,{to:\"/profile\",children:\"Profile\"})}),t&&Object(j.jsx)(\"li\",{children:Object(j.jsx)(\"button\",{onClick:function(){e.logout()},children:\"Logout\"})})]})})]})},x=function(e){return Object(j.jsxs)(i.Fragment,{children:[Object(j.jsx)(g,{}),Object(j.jsx)(\"main\",{children:e.children})]})},f=n(13),p=n.n(f),m=function(){var e=Object(a.useHistory)(),t=Object(i.useRef)(),n=Object(i.useContext)(h);return Object(j.jsxs)(\"form\",{className:p.a.form,onSubmit:function(c){c.preventDefault();var o=t.current.value;fetch(\"https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyBOY-Y4RykiUKME-IVBLrDGGcel9VUpch8\",{method:\"POST\",body:JSON.stringify({idToken:n.token,password:o,returnSecureToken:!1}),headers:{\"Content-Type\":\"application/json\"}}).then((function(t){e.replace(\"/\")}))},children:[Object(j.jsxs)(\"div\",{className:p.a.control,children:[Object(j.jsx)(\"label\",{htmlFor:\"new-password\",children:\"New Password\"}),Object(j.jsx)(\"input\",{type:\"password\",id:\"new-password\",minLength:\"7\",ref:t})]}),Object(j.jsx)(\"div\",{className:p.a.action,children:Object(j.jsx)(\"button\",{children:\"Change Password\"})})]})},_=n(20),v=n.n(_),w=function(){return Object(j.jsxs)(\"section\",{className:v.a.profile,children:[Object(j.jsx)(\"h1\",{children:\"Your User Profile\"}),Object(j.jsx)(m,{})]})},k=n(21),y=n(10),S=n.n(y),I=function(){var e=Object(k.useHistory)(),t=Object(i.useRef)(),n=Object(i.useRef)(),c=Object(i.useContext)(h),o=Object(i.useState)(!0),r=Object(l.a)(o,2),s=r[0],a=r[1],u=Object(i.useState)(!1),d=Object(l.a)(u,2),b=d[0],O=d[1];return Object(j.jsxs)(\"section\",{className:S.a.auth,children:[Object(j.jsx)(\"h1\",{children:s?\"Login\":\"Sign Up\"}),Object(j.jsxs)(\"form\",{onSubmit:function(o){o.preventDefault();var r,i=t.current.value,a=n.current.value;O(!0),r=s?\"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBOY-Y4RykiUKME-IVBLrDGGcel9VUpch8\":\"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBOY-Y4RykiUKME-IVBLrDGGcel9VUpch8\",fetch(r,{method:\"POST\",body:JSON.stringify({email:i,password:a,returnSecureToken:!0}),headers:{\"Content-Type\":\"application/json\"}}).then((function(e){return O(!1),e.ok?e.json():e.json().then((function(e){throw new Error(\"Authentication failed!\")}))})).then((function(t){var n=new Date((new Date).getTime()+1e3*+t.expiresIn);c.login(t.idToken,n.toISOString),e.replace(\"/\")})).catch((function(e){alert(e.message)}))},children:[Object(j.jsxs)(\"div\",{className:S.a.control,children:[Object(j.jsx)(\"label\",{htmlFor:\"email\",children:\"Your Email\"}),Object(j.jsx)(\"input\",{type:\"email\",id:\"email\",required:!0,ref:t})]}),Object(j.jsxs)(\"div\",{className:S.a.control,children:[Object(j.jsx)(\"label\",{htmlFor:\"password\",children:\"Your Password\"}),Object(j.jsx)(\"input\",{type:\"password\",id:\"password\",required:!0,ref:n})]}),Object(j.jsxs)(\"div\",{className:S.a.actions,children:[!b&&Object(j.jsx)(\"button\",{children:s?\"Login\":\"Create Account\"}),b&&Object(j.jsx)(\"p\",{children:\"Sending request...\"}),Object(j.jsx)(\"button\",{type:\"button\",className:S.a.toggle,onClick:function(){a((function(e){return!e}))},children:s?\"Create new account\":\"Login with existing account\"})]})]})]})},N=function(){return Object(j.jsx)(I,{})},L=n(22),P=n.n(L),C=function(){return Object(j.jsx)(\"section\",{className:P.a.starting,children:Object(j.jsx)(\"h1\",{children:\"Welcome on Board!\"})})},R=function(){return Object(j.jsx)(C,{})};var T=function(){var e=Object(i.useContext)(h);return Object(j.jsx)(x,{children:Object(j.jsxs)(a.Switch,{children:[Object(j.jsx)(a.Route,{path:\"/\",exact:!0,children:Object(j.jsx)(R,{})}),!e.isLoggedIn&&Object(j.jsx)(a.Route,{path:\"/auth\",children:Object(j.jsx)(N,{})}),Object(j.jsxs)(a.Route,{path:\"/profile\",children:[e.isLoggedIn&&Object(j.jsx)(w,{}),!e.isLoggedIn&&Object(j.jsx)(a.Redirect,{to:\"/auth\"})]}),Object(j.jsx)(a.Route,{path:\"*\",children:Object(j.jsx)(a.Redirect,{to:\"/\"})})]})})};o.a.render(Object(j.jsx)(d,{children:Object(j.jsx)(r.a,{children:Object(j.jsx)(T,{})})}),document.getElementById(\"root\"))}},[[37,1,2]]]);","name":"static/js/main.bce19072.chunk.js","map":{"version":3,"sources":["static/js/main.bce19072.chunk.js"],"names":["this","push","module","exports","__webpack_require__","auth","control","actions","toggle","form","action","header","logo","profile","starting","__webpack_exports__","r","react_dom","react_dom_default","n","react_router_dom","react","react_default","react_router","slicedToArray","jsx_runtime","AuthContext","a","createContext","token","isLoggedIn","login","logout","auth_context_AuthContextProvider","props","initialToken","localStorage","getItem","_useState","Object","_useState2","setToken","logoutHandler","removeItem","contextValue","expirationTime","setItem","remainingTime","currentTime","Date","getTime","calculateRemainingTime","setTimeout","Provider","value","children","auth_context","MainNavigation_module","MainNavigation_module_default","Layout_MainNavigation","authCtx","className","to","onClick","components_Layout_Layout","ProfileForm_module","ProfileForm_module_default","Profile_ProfileForm","history","newPasswordInputRef","onSubmit","event","preventDefault","enteredNewPassword","current","fetch","method","body","JSON","stringify","idToken","password","returnSecureToken","headers","then","res","replace","htmlFor","type","id","minLength","ref","UserProfile_module","UserProfile_module_default","Profile_UserProfile","react_router_dom_min","AuthForm_module","AuthForm_module_default","Auth_AuthForm","emailInputRef","passwordInputRef","isLogin","setIsLogin","_useState3","_useState4","isLoading","setIsLoading","url","enteredEmail","enteredPassword","email","ok","json","data","Error","expiresIn","toISOString","catch","err","alert","message","required","prevState","pages_AuthPage","StartingPageContent_module","StartingPageContent_module_default","StartingPage_StartingPageContent","pages_HomePage","src_App","path","exact","render","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpreact-complete-guide\"] = this[\"webpackJsonpreact-complete-guide\"] || []).push([[0],{\n\n/***/ 10:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"AuthForm_auth__MPw6W\",\"control\":\"AuthForm_control__2fVSU\",\"actions\":\"AuthForm_actions__1VNhY\",\"toggle\":\"AuthForm_toggle__21tnB\"};\n\n/***/ }),\n\n/***/ 13:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ProfileForm_form__2xGgc\",\"control\":\"ProfileForm_control__2YUZH\",\"action\":\"ProfileForm_action__opJ_6\"};\n\n/***/ }),\n\n/***/ 15:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"MainNavigation_header__2lqQ1\",\"logo\":\"MainNavigation_logo__1TgMx\"};\n\n/***/ }),\n\n/***/ 20:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"UserProfile_profile__gQOnH\"};\n\n/***/ }),\n\n/***/ 22:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"starting\":\"StartingPageContent_starting__kwCvL\"};\n\n/***/ }),\n\n/***/ 27:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(17);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(27);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/store/auth-context.js\nvar AuthContext=/*#__PURE__*/react_default.a.createContext({token:'',isLoggedIn:false,login:function login(token){},logout:function logout(){}});var calculateRemainingTime=function calculateRemainingTime(expirationTime){var currentTime=new Date().getTime();var adjExpirationTime=new Date(expirationTime).getTime();var remainingDuration=adjExpirationTime-currentTime;return remainingDuration;};var auth_context_AuthContextProvider=function AuthContextProvider(props){var initialToken=localStorage.getItem('token');var _useState=Object(react[\"useState\"])(initialToken),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),token=_useState2[0],setToken=_useState2[1];var userIsLoggedIn=!!token;var logoutHandler=function logoutHandler(){setToken(null);localStorage.removeItem('token',token);};var loginHandler=function loginHandler(token,expirationTime){setToken(token);localStorage.setItem('token',token);var remainingTime=calculateRemainingTime(expirationTime);setTimeout(logoutHandler,remainingTime);};var contextValue={token:token,isLoggedIn:userIsLoggedIn,login:loginHandler,logout:logoutHandler};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AuthContext.Provider,{value:contextValue,children:props.children});};/* harmony default export */ var auth_context = (AuthContext);\n// EXTERNAL MODULE: ./src/components/Layout/MainNavigation.module.css\nvar MainNavigation_module = __webpack_require__(15);\nvar MainNavigation_module_default = /*#__PURE__*/__webpack_require__.n(MainNavigation_module);\n\n// CONCATENATED MODULE: ./src/components/Layout/MainNavigation.js\nvar MainNavigation_MainNavigation=function MainNavigation(){var authCtx=Object(react[\"useContext\"])(auth_context);var isLoggedIn=authCtx.isLoggedIn;var logoutHandler=function logoutHandler(){authCtx.logout();// optional: redirect the user\n};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{className:MainNavigation_module_default.a.header,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:MainNavigation_module_default.a.logo,children:\"React Auth\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"nav\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{children:[!isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/auth\",children:\"Login\"})}),isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/profile\",children:\"Profile\"})}),isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:logoutHandler,children:\"Logout\"})})]})})]});};/* harmony default export */ var Layout_MainNavigation = (MainNavigation_MainNavigation);\n// CONCATENATED MODULE: ./src/components/Layout/Layout.js\nvar Layout_Layout=function Layout(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Layout_MainNavigation,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"main\",{children:props.children})]});};/* harmony default export */ var components_Layout_Layout = (Layout_Layout);\n// EXTERNAL MODULE: ./src/components/Profile/ProfileForm.module.css\nvar ProfileForm_module = __webpack_require__(13);\nvar ProfileForm_module_default = /*#__PURE__*/__webpack_require__.n(ProfileForm_module);\n\n// CONCATENATED MODULE: ./src/components/Profile/ProfileForm.js\nvar ProfileForm_ProfileForm=function ProfileForm(){var history=Object(react_router[\"useHistory\"])();var newPasswordInputRef=Object(react[\"useRef\"])();var authCtx=Object(react[\"useContext\"])(auth_context);var submitHandler=function submitHandler(event){event.preventDefault();var enteredNewPassword=newPasswordInputRef.current.value;// add validation\nfetch('https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyBOY-Y4RykiUKME-IVBLrDGGcel9VUpch8',{method:'POST',body:JSON.stringify({idToken:authCtx.token,password:enteredNewPassword,returnSecureToken:false}),headers:{'Content-Type':'application/json'}}).then(function(res){// assumption: Always succeeds!\nhistory.replace('/');});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:ProfileForm_module_default.a.form,onSubmit:submitHandler,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:ProfileForm_module_default.a.control,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"new-password\",children:\"New Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",id:\"new-password\",minLength:\"7\",ref:newPasswordInputRef})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:ProfileForm_module_default.a.action,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Change Password\"})})]});};/* harmony default export */ var Profile_ProfileForm = (ProfileForm_ProfileForm);\n// EXTERNAL MODULE: ./src/components/Profile/UserProfile.module.css\nvar UserProfile_module = __webpack_require__(20);\nvar UserProfile_module_default = /*#__PURE__*/__webpack_require__.n(UserProfile_module);\n\n// CONCATENATED MODULE: ./src/components/Profile/UserProfile.js\nvar UserProfile_UserProfile=function UserProfile(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"section\",{className:UserProfile_module_default.a.profile,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Your User Profile\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Profile_ProfileForm,{})]});};/* harmony default export */ var Profile_UserProfile = (UserProfile_UserProfile);\n// EXTERNAL MODULE: ./node_modules/react-router-dom/cjs/react-router-dom.min.js\nvar react_router_dom_min = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./src/components/Auth/AuthForm.module.css\nvar AuthForm_module = __webpack_require__(10);\nvar AuthForm_module_default = /*#__PURE__*/__webpack_require__.n(AuthForm_module);\n\n// CONCATENATED MODULE: ./src/components/Auth/AuthForm.js\nvar AuthForm_AuthForm=function AuthForm(){var history=Object(react_router_dom_min[\"useHistory\"])();var emailInputRef=Object(react[\"useRef\"])();var passwordInputRef=Object(react[\"useRef\"])();var authCtx=Object(react[\"useContext\"])(auth_context);var _useState=Object(react[\"useState\"])(true),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isLogin=_useState2[0],setIsLogin=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var switchAuthModeHandler=function switchAuthModeHandler(){setIsLogin(function(prevState){return!prevState;});};var submitHandler=function submitHandler(event){event.preventDefault();var enteredEmail=emailInputRef.current.value;var enteredPassword=passwordInputRef.current.value;// optional: Add validation\nsetIsLoading(true);var url;if(isLogin){url='https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBOY-Y4RykiUKME-IVBLrDGGcel9VUpch8';}else{url='https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBOY-Y4RykiUKME-IVBLrDGGcel9VUpch8';}fetch(url,{method:'POST',body:JSON.stringify({email:enteredEmail,password:enteredPassword,returnSecureToken:true}),headers:{'Content-Type':'application/json'}}).then(function(res){setIsLoading(false);if(res.ok){return res.json();}else{return res.json().then(function(data){var errorMessage='Authentication failed!';// if (data && data.error && data.error.message) {\n//   errorMessage = data.error.message;\n// }\nthrow new Error(errorMessage);});}}).then(function(data){var expirationTime=new Date(new Date().getTime()+ +data.expiresIn*1000);authCtx.login(data.idToken,expirationTime.toISOString);history.replace('/');}).catch(function(err){alert(err.message);});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"section\",{className:AuthForm_module_default.a.auth,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:isLogin?'Login':'Sign Up'}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AuthForm_module_default.a.control,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"email\",children:\"Your Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",id:\"email\",required:true,ref:emailInputRef})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AuthForm_module_default.a.control,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"password\",children:\"Your Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",id:\"password\",required:true,ref:passwordInputRef})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AuthForm_module_default.a.actions,children:[!isLoading&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:isLogin?'Login':'Create Account'}),isLoading&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Sending request...\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:AuthForm_module_default.a.toggle,onClick:switchAuthModeHandler,children:isLogin?'Create new account':'Login with existing account'})]})]})]});};/* harmony default export */ var Auth_AuthForm = (AuthForm_AuthForm);\n// CONCATENATED MODULE: ./src/pages/AuthPage.js\nvar AuthPage_AuthPage=function AuthPage(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Auth_AuthForm,{});};/* harmony default export */ var pages_AuthPage = (AuthPage_AuthPage);\n// EXTERNAL MODULE: ./src/components/StartingPage/StartingPageContent.module.css\nvar StartingPageContent_module = __webpack_require__(22);\nvar StartingPageContent_module_default = /*#__PURE__*/__webpack_require__.n(StartingPageContent_module);\n\n// CONCATENATED MODULE: ./src/components/StartingPage/StartingPageContent.js\nvar StartingPageContent_StartingPageContent=function StartingPageContent(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"section\",{className:StartingPageContent_module_default.a.starting,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Welcome on Board!\"})});};/* harmony default export */ var StartingPage_StartingPageContent = (StartingPageContent_StartingPageContent);\n// CONCATENATED MODULE: ./src/pages/HomePage.js\nvar HomePage_HomePage=function HomePage(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StartingPage_StartingPageContent,{});};/* harmony default export */ var pages_HomePage = (HomePage_HomePage);\n// CONCATENATED MODULE: ./src/App.js\nfunction App(){var authCtx=Object(react[\"useContext\"])(auth_context);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Layout_Layout,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"Switch\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"Route\"],{path:\"/\",exact:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_HomePage,{})}),!authCtx.isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"Route\"],{path:\"/auth\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_AuthPage,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"Route\"],{path:\"/profile\",children:[authCtx.isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Profile_UserProfile,{}),!authCtx.isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"Redirect\"],{to:\"/auth\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"Route\"],{path:\"*\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"Redirect\"],{to:\"/\"})})]})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(auth_context_AuthContextProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})})}),document.getElementById('root'));\n\n/***/ })\n\n},[[37,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/node_modules/postcss-loader/src/index.js??postcss!/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/src/components/Auth/AuthForm.module.css","/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/node_modules/postcss-loader/src/index.js??postcss!/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/src/components/Profile/ProfileForm.module.css","/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/node_modules/postcss-loader/src/index.js??postcss!/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/src/components/Layout/MainNavigation.module.css","/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/node_modules/postcss-loader/src/index.js??postcss!/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/src/components/Profile/UserProfile.module.css","/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/node_modules/postcss-loader/src/index.js??postcss!/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/src/components/StartingPage/StartingPageContent.module.css","/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/node_modules/postcss-loader/src/index.js??postcss!/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/src/index.css","/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/src/store/auth-context.js","/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/src/components/Layout/MainNavigation.js","/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/src/components/Layout/Layout.js","/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/src/components/Profile/ProfileForm.js","/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/src/components/Profile/UserProfile.js","/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/src/components/Auth/AuthForm.js","/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/src/pages/AuthPage.js","/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/src/components/StartingPage/StartingPageContent.js","/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/src/pages/HomePage.js","/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/src/App.js","/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/src/index.js"],"names":["AuthContext","React","createContext","token","isLoggedIn","login","logout","calculateRemainingTime","expirationTime","currentTime","Date","getTime","adjExpirationTime","remainingDuration","AuthContextProvider","props","initialToken","localStorage","getItem","useState","setToken","userIsLoggedIn","logoutHandler","removeItem","loginHandler","setItem","remainingTime","setTimeout","contextValue","children","MainNavigation","authCtx","useContext","classes","header","logo","Layout","ProfileForm","history","useHistory","newPasswordInputRef","useRef","submitHandler","event","preventDefault","enteredNewPassword","current","value","fetch","method","body","JSON","stringify","idToken","password","returnSecureToken","headers","then","res","replace","form","control","action","UserProfile","profile","AuthForm","emailInputRef","passwordInputRef","isLogin","setIsLogin","isLoading","setIsLoading","switchAuthModeHandler","prevState","enteredEmail","enteredPassword","url","email","ok","json","data","errorMessage","Error","expiresIn","toISOString","catch","err","alert","message","auth","actions","toggle","AuthPage","StartingPageContent","starting","HomePage","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"AuthForm_auth__MPw6W\",\"control\":\"AuthForm_control__2fVSU\",\"actions\":\"AuthForm_actions__1VNhY\",\"toggle\":\"AuthForm_toggle__21tnB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ProfileForm_form__2xGgc\",\"control\":\"ProfileForm_control__2YUZH\",\"action\":\"ProfileForm_action__opJ_6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"MainNavigation_header__2lqQ1\",\"logo\":\"MainNavigation_logo__1TgMx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"UserProfile_profile__gQOnH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"starting\":\"StartingPageContent_starting__kwCvL\"};","// extracted by mini-css-extract-plugin","import React, { useState } from 'react';\n\nconst AuthContext = React.createContext({\ntoken: '',\nisLoggedIn: false,\nlogin: (token) => {},\nlogout: () => {},\n});\n\nconst calculateRemainingTime = (expirationTime)=>{\nconst currentTime = new Date().getTime();\nconst adjExpirationTime = new Date(expirationTime).getTime();\n\nconst remainingDuration = adjExpirationTime - currentTime;\nreturn remainingDuration;\n}\n\nexport const AuthContextProvider = (props) => {\nconst initialToken = localStorage.getItem('token')\nconst [token, setToken] = useState(initialToken);\n\nconst userIsLoggedIn = !!token;\n\nconst logoutHandler = () => {\nsetToken(null);\nlocalStorage.removeItem('token', token);\n};\n\nconst loginHandler = (token, expirationTime) => {\nsetToken(token);\nlocalStorage.setItem('token', token);\nconst remainingTime = calculateRemainingTime(expirationTime);\nsetTimeout(logoutHandler, remainingTime);\n};\n\nconst contextValue = {\ntoken: token,\nisLoggedIn: userIsLoggedIn,\nlogin: loginHandler,\nlogout: logoutHandler,\n};\n\nreturn (\n<AuthContext.Provider value={contextValue}>\n{props.children}\n</AuthContext.Provider>\n);\n};\n\nexport default AuthContext;","import { useContext } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport AuthContext from '../../store/auth-context';\nimport classes from './MainNavigation.module.css';\n\nconst MainNavigation = () => {\n  const authCtx = useContext(AuthContext);\n\n  const isLoggedIn = authCtx.isLoggedIn;\n\n  const logoutHandler = () => {\n    authCtx.logout();\n    // optional: redirect the user\n  };\n\n  return (\n    <header className={classes.header}>\n      <Link to='/'>\n        <div className={classes.logo}>React Auth</div>\n      </Link>\n      <nav>\n        <ul>\n          {!isLoggedIn && (\n            <li>\n              <Link to='/auth'>Login</Link>\n            </li>\n          )}\n          {isLoggedIn && (\n            <li>\n              <Link to='/profile'>Profile</Link>\n            </li>\n          )}\n          {isLoggedIn && (\n            <li>\n              <button onClick={logoutHandler}>Logout</button>\n            </li>\n          )}\n        </ul>\n      </nav>\n    </header>\n  );\n};\n\nexport default MainNavigation;","import { Fragment } from 'react';\n\nimport MainNavigation from './MainNavigation';\n\nconst Layout = (props) => {\n  return (\n    <Fragment>\n      <MainNavigation />\n      <main>{props.children}</main>\n    </Fragment>\n  );\n};\n\nexport default Layout;\n","import { useRef, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport AuthContext from '../../store/auth-context';\nimport classes from './ProfileForm.module.css';\n\nconst ProfileForm = () => {\n  const history = useHistory();\nconst newPasswordInputRef = useRef();\nconst authCtx = useContext(AuthContext);\n\nconst submitHandler = (event) => {\nevent.preventDefault();\n\nconst enteredNewPassword = newPasswordInputRef.current.value;\n\n// add validation\n\nfetch('https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyBOY-Y4RykiUKME-IVBLrDGGcel9VUpch8', {\nmethod: 'POST',\nbody: JSON.stringify({\nidToken: authCtx.token,\npassword: enteredNewPassword,\nreturnSecureToken: false\n}),\nheaders: {\n'Content-Type': 'application/json'\n}\n}).then(res => {\n// assumption: Always succeeds!\nhistory.replace('/');\n});\n};\n\nreturn (\n<form className={classes.form} onSubmit={submitHandler}>\n<div className={classes.control}>\n<label htmlFor='new-password'>New Password</label>\n<input type='password' id='new-password' minLength=\"7\" ref={newPasswordInputRef} />\n</div>\n<div className={classes.action}>\n<button>Change Password</button>\n</div>\n</form>\n);\n};\n\nexport default ProfileForm;\n","import ProfileForm from './ProfileForm';\nimport classes from './UserProfile.module.css';\n\nconst UserProfile = () => {\n  return (\n    <section className={classes.profile}>\n      <h1>Your User Profile</h1>\n      <ProfileForm />\n    </section>\n  );\n};\n\nexport default UserProfile;\n","import { useState, useRef, useContext } from 'react';\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\n\nimport AuthContext from '../../store/auth-context';\nimport classes from './AuthForm.module.css';\n\nconst AuthForm = () => {\n  const history = useHistory();\n  const emailInputRef = useRef();\n  const passwordInputRef = useRef();\n\n  const authCtx = useContext(AuthContext);\n\n  const [isLogin, setIsLogin] = useState(true);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const switchAuthModeHandler = () => {\n    setIsLogin((prevState) => !prevState);\n  };\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n\n    const enteredEmail = emailInputRef.current.value;\n    const enteredPassword = passwordInputRef.current.value;\n\n    // optional: Add validation\n\n\n    setIsLoading(true);\n    let url;\n    if (isLogin) {\n      url =\n        'https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBOY-Y4RykiUKME-IVBLrDGGcel9VUpch8';\n    } else {\n      url =\n        'https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBOY-Y4RykiUKME-IVBLrDGGcel9VUpch8';\n    }\n    fetch(url, {\n      method: 'POST',\n      body: JSON.stringify({\n        email: enteredEmail,\n        password: enteredPassword,\n        returnSecureToken: true,\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n      .then((res) => {\n        setIsLoading(false);\n        if (res.ok) {\n          return res.json();\n        } else {\n          return res.json().then((data) => {\n            let errorMessage = 'Authentication failed!';\n            // if (data && data.error && data.error.message) {\n            //   errorMessage = data.error.message;\n            // }\n\n            throw new Error(errorMessage);\n          });\n        }\n      })\n      .then((data) => {\n        const expirationTime = new Date(new Date().getTime() + (+data.expiresIn*1000));\n        authCtx.login(data.idToken, expirationTime.toISOString);\n        history.replace('/');\n      })\n      .catch((err) => {\n        alert(err.message);\n      });\n  };\n\n  return (\n    <section className={classes.auth}>\n      <h1>{isLogin ? 'Login' : 'Sign Up'}</h1>\n      <form onSubmit={submitHandler}>\n        <div className={classes.control}>\n          <label htmlFor='email'>Your Email</label>\n          <input type='email' id='email' required ref={emailInputRef} />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor='password'>Your Password</label>\n          <input\n            type='password'\n            id='password'\n            required\n            ref={passwordInputRef}\n          />\n        </div>\n        <div className={classes.actions}>\n          {!isLoading && (\n            <button>{isLogin ? 'Login' : 'Create Account'}</button>\n          )}\n          {isLoading && <p>Sending request...</p>}\n          <button\n            type='button'\n            className={classes.toggle}\n            onClick={switchAuthModeHandler}\n          >\n            {isLogin ? 'Create new account' : 'Login with existing account'}\n          </button>\n        </div>\n      </form>\n    </section>\n  );\n};\n\nexport default AuthForm;","import AuthForm from '../components/Auth/AuthForm';\n\nconst AuthPage = () => {\n  return <AuthForm />;\n};\n\nexport default AuthPage;\n","import classes from './StartingPageContent.module.css';\n\nconst StartingPageContent = () => {\n  return (\n    <section className={classes.starting}>\n      <h1>Welcome on Board!</h1>\n    </section>\n  );\n};\n\nexport default StartingPageContent;\n","import StartingPageContent from '../components/StartingPage/StartingPageContent';\n\nconst HomePage = () => {\n  return <StartingPageContent />;\n};\n\nexport default HomePage;\n","import { useContext } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\n\nimport Layout from './components/Layout/Layout';\nimport UserProfile from './components/Profile/UserProfile';\nimport AuthPage from './pages/AuthPage';\nimport HomePage from './pages/HomePage';\nimport AuthContext from './store/auth-context';\n\nfunction App() {\n  const authCtx = useContext(AuthContext);\n\n  return (\n    <Layout>\n      <Switch>\n        <Route path='/' exact>\n          <HomePage />\n        </Route>\n        {!authCtx.isLoggedIn && (\n          <Route path='/auth'>\n            <AuthPage />\n          </Route>\n        )}\n        <Route path='/profile'>\n          {authCtx.isLoggedIn && <UserProfile />}\n          {!authCtx.isLoggedIn && <Redirect to='/auth' />}\n        </Route>\n        <Route path='*'>\n          <Redirect to='/' />\n        </Route>\n      </Switch>\n    </Layout>\n  );\n}\n\nexport default App;","import ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './store/auth-context';\n\nReactDOM.render(\n  <AuthContextProvider>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </AuthContextProvider>,\n  document.getElementById('root')\n);"]}}