{"ast":null,"code":"import{useRef,useContext}from'react';import{useHistory}from'react-router-dom';import AuthContext from'../../store/auth-context';import classes from'./ProfileForm.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProfileForm=function ProfileForm(){var history=useHistory();var newPasswordInputRef=useRef();var authCtx=useContext(AuthContext);var submitHandler=function submitHandler(event){event.preventDefault();var enteredNewPassword=newPasswordInputRef.current.value;// add validation\nfetch('https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyBOY-Y4RykiUKME-IVBLrDGGcel9VUpch8',{method:'POST',body:JSON.stringify({idToken:authCtx.token,password:enteredNewPassword,returnSecureToken:false}),headers:{'Content-Type':'application/json'}}).then(function(res){// assumption: Always succeeds!\nhistory.replace('/');});};return/*#__PURE__*/_jsxs(\"form\",{className:classes.form,onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.control,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"new-password\",children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"new-password\",minLength:\"7\",ref:newPasswordInputRef})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.action,children:/*#__PURE__*/_jsx(\"button\",{children:\"Change Password\"})})]});};export default ProfileForm;","map":{"version":3,"sources":["/home/zorica/Радна површина/react/React - The Complete Guide (incl Hooks, React Router, Redux)/[TutsNode.com] - React - The Complete Guide (incl Hooks, React Router, Redux)/22 Adding Authentication To React Apps/01-starting-project/src/components/Profile/ProfileForm.js"],"names":["useRef","useContext","useHistory","AuthContext","classes","ProfileForm","history","newPasswordInputRef","authCtx","submitHandler","event","preventDefault","enteredNewPassword","current","value","fetch","method","body","JSON","stringify","idToken","token","password","returnSecureToken","headers","then","res","replace","form","control","action"],"mappings":"AAAA,OAASA,MAAT,CAAiBC,UAAjB,KAAmC,OAAnC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,0BAApB,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAMC,CAAAA,OAAO,CAAGJ,UAAU,EAA1B,CACF,GAAMK,CAAAA,mBAAmB,CAAGP,MAAM,EAAlC,CACA,GAAMQ,CAAAA,OAAO,CAAGP,UAAU,CAACE,WAAD,CAA1B,CAEA,GAAMM,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CACjCA,KAAK,CAACC,cAAN,GAEA,GAAMC,CAAAA,kBAAkB,CAAGL,mBAAmB,CAACM,OAApB,CAA4BC,KAAvD,CAEA;AAEAC,KAAK,CAAC,uGAAD,CAA0G,CAC/GC,MAAM,CAAE,MADuG,CAE/GC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACrBC,OAAO,CAAEZ,OAAO,CAACa,KADI,CAErBC,QAAQ,CAAEV,kBAFW,CAGrBW,iBAAiB,CAAE,KAHE,CAAf,CAFyG,CAO/GC,OAAO,CAAE,CACT,eAAgB,kBADP,CAPsG,CAA1G,CAAL,CAUGC,IAVH,CAUQ,SAAAC,GAAG,CAAI,CACf;AACApB,OAAO,CAACqB,OAAR,CAAgB,GAAhB,EACC,CAbD,EAcC,CArBD,CAuBA,mBACA,cAAM,SAAS,CAAEvB,OAAO,CAACwB,IAAzB,CAA+B,QAAQ,CAAEnB,aAAzC,wBACA,aAAK,SAAS,CAAEL,OAAO,CAACyB,OAAxB,wBACA,cAAO,OAAO,CAAC,cAAf,0BADA,cAEA,cAAO,IAAI,CAAC,UAAZ,CAAuB,EAAE,CAAC,cAA1B,CAAyC,SAAS,CAAC,GAAnD,CAAuD,GAAG,CAAEtB,mBAA5D,EAFA,GADA,cAKA,YAAK,SAAS,CAAEH,OAAO,CAAC0B,MAAxB,uBACA,2CADA,EALA,GADA,CAWC,CAvCD,CAyCA,cAAezB,CAAAA,WAAf","sourcesContent":["import { useRef, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport AuthContext from '../../store/auth-context';\nimport classes from './ProfileForm.module.css';\n\nconst ProfileForm = () => {\n  const history = useHistory();\nconst newPasswordInputRef = useRef();\nconst authCtx = useContext(AuthContext);\n\nconst submitHandler = (event) => {\nevent.preventDefault();\n\nconst enteredNewPassword = newPasswordInputRef.current.value;\n\n// add validation\n\nfetch('https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyBOY-Y4RykiUKME-IVBLrDGGcel9VUpch8', {\nmethod: 'POST',\nbody: JSON.stringify({\nidToken: authCtx.token,\npassword: enteredNewPassword,\nreturnSecureToken: false\n}),\nheaders: {\n'Content-Type': 'application/json'\n}\n}).then(res => {\n// assumption: Always succeeds!\nhistory.replace('/');\n});\n};\n\nreturn (\n<form className={classes.form} onSubmit={submitHandler}>\n<div className={classes.control}>\n<label htmlFor='new-password'>New Password</label>\n<input type='password' id='new-password' minLength=\"7\" ref={newPasswordInputRef} />\n</div>\n<div className={classes.action}>\n<button>Change Password</button>\n</div>\n</form>\n);\n};\n\nexport default ProfileForm;\n"]},"metadata":{},"sourceType":"module"}