{"ast":null,"code":"import{useRef,useContext}from'react';import{useHistory}from'react-router-dom';import AuthContext from'../../store/auth-context';//import classes from './ProfileForm.module.css';\nimport{Form,Button,Container,Row,Col}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProfileForm=function ProfileForm(){var history=useHistory();var newPasswordInputRef=useRef();var authCtx=useContext(AuthContext);var submitHandler=function submitHandler(event){event.preventDefault();var enteredNewPassword=newPasswordInputRef.current.value;// add validation\nfetch('https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyBOY-Y4RykiUKME-IVBLrDGGcel9VUpch8',{method:'POST',body:JSON.stringify({idToken:authCtx.token,password:enteredNewPassword,returnSecureToken:false}),headers:{'Content-Type':'application/json'}}).then(function(res){// assumption: Always succeeds!\nhistory.replace('/');});};return/*#__PURE__*/_jsx(Container,{className:\" text-info  border-dark \",children:/*#__PURE__*/_jsx(Row,{className:\"justify-content-center w-1\",children:/*#__PURE__*/_jsx(Col,{xs:8,md:4,className:\"border rounded\",children:/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3 font-weight-bold\",controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"text-dark \",children:\"New Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",id:\"new-password\",placeholder:\"Password\",minLength:\"7\",ref:newPasswordInputRef})]}),/*#__PURE__*/_jsx(Button,{className:\"m-2 bg-info border border-dark\",variant:\"primary\",type:\"submit\",children:\"Submit\"})]})})})});};export default ProfileForm;","map":{"version":3,"sources":["/home/zorica/Радна површина/react/vezbanje/auth/src/components/Profile/ProfileForm.js"],"names":["useRef","useContext","useHistory","AuthContext","Form","Button","Container","Row","Col","ProfileForm","history","newPasswordInputRef","authCtx","submitHandler","event","preventDefault","enteredNewPassword","current","value","fetch","method","body","JSON","stringify","idToken","token","password","returnSecureToken","headers","then","res","replace"],"mappings":"AAAA,OAASA,MAAT,CAAiBC,UAAjB,KAAmC,OAAnC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CACA;AACA,OAASC,IAAT,CAAeC,MAAf,CAAuBC,SAAvB,CAAiCC,GAAjC,CAAqCC,GAArC,KAA+C,iBAA/C,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAMC,CAAAA,OAAO,CAAGR,UAAU,EAA1B,CACF,GAAMS,CAAAA,mBAAmB,CAAGX,MAAM,EAAlC,CACA,GAAMY,CAAAA,OAAO,CAAGX,UAAU,CAACE,WAAD,CAA1B,CAEA,GAAMU,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CACjCA,KAAK,CAACC,cAAN,GAEA,GAAMC,CAAAA,kBAAkB,CAAGL,mBAAmB,CAACM,OAApB,CAA4BC,KAAvD,CAEA;AAEAC,KAAK,CAAC,uGAAD,CAA0G,CAC/GC,MAAM,CAAE,MADuG,CAE/GC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACrBC,OAAO,CAAEZ,OAAO,CAACa,KADI,CAErBC,QAAQ,CAAEV,kBAFW,CAGrBW,iBAAiB,CAAE,KAHE,CAAf,CAFyG,CAO/GC,OAAO,CAAE,CACT,eAAgB,kBADP,CAPsG,CAA1G,CAAL,CAUGC,IAVH,CAUQ,SAAAC,GAAG,CAAI,CACf;AACApB,OAAO,CAACqB,OAAR,CAAgB,GAAhB,EACC,CAbD,EAcC,CArBD,CAuBA,mBAEE,KAAC,SAAD,EAAW,SAAS,CAAC,0BAArB,uBACC,KAAC,GAAD,EAAK,SAAS,CAAC,4BAAf,uBAEC,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,CAAhB,CAAmB,SAAS,CAAC,gBAA7B,uBAEE,MAAC,IAAD,EAAO,QAAQ,CAAElB,aAAjB,wBAEE,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,uBAAtB,CAA8C,SAAS,CAAC,mBAAxD,wBACI,KAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,YAAtB,0BADJ,cAEI,KAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,UAAnB,CAA8B,EAAE,CAAC,cAAjC,CAA+C,WAAW,CAAC,UAA3D,CAAsE,SAAS,CAAC,GAAhF,CAAoF,GAAG,CAAEF,mBAAzF,EAFJ,GAFF,cAOE,KAAC,MAAD,EAAQ,SAAS,CAAC,gCAAlB,CAAmD,OAAO,CAAC,SAA3D,CAAqE,IAAI,CAAC,QAA1E,oBAPF,GAFF,EAFD,EADD,EAFF,CA0BC,CAtDD,CAwDA,cAAeF,CAAAA,WAAf","sourcesContent":["import { useRef, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport AuthContext from '../../store/auth-context';\n//import classes from './ProfileForm.module.css';\nimport { Form, Button, Container,Row,Col} from 'react-bootstrap';\n\nconst ProfileForm = () => {\n  const history = useHistory();\nconst newPasswordInputRef = useRef();\nconst authCtx = useContext(AuthContext);\n\nconst submitHandler = (event) => {\nevent.preventDefault();\n\nconst enteredNewPassword = newPasswordInputRef.current.value;\n\n// add validation\n\nfetch('https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyBOY-Y4RykiUKME-IVBLrDGGcel9VUpch8', {\nmethod: 'POST',\nbody: JSON.stringify({\nidToken: authCtx.token,\npassword: enteredNewPassword,\nreturnSecureToken: false\n}),\nheaders: {\n'Content-Type': 'application/json'\n}\n}).then(res => {\n// assumption: Always succeeds!\nhistory.replace('/');\n});\n};\n\nreturn (\n  \n  <Container className=' text-info  border-dark '>\n   <Row className=\"justify-content-center w-1\">\n    \n    <Col xs={8} md={4} className='border rounded' >\n\n      <Form  onSubmit={submitHandler}>\n\n        <Form.Group className=\"mb-3 font-weight-bold\" controlId=\"formBasicPassword\">\n            <Form.Label className='text-dark '>New Password</Form.Label>\n            <Form.Control type=\"password\" id='new-password'placeholder=\"Password\" minLength=\"7\" ref={newPasswordInputRef}  />  \n        </Form.Group>\n      \n        <Button className='m-2 bg-info border border-dark' variant=\"primary\" type=\"submit\">Submit\n        </Button>\n\n      </Form>\n\n    </Col>\n    \n   </Row>\n  \n  </Container>\n\n);\n};\n\nexport default ProfileForm;\n"]},"metadata":{},"sourceType":"module"}